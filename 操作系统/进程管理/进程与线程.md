## 进程的概念和特征
### 概念
**进程（Process）**：进程实体运行的过程，是系统进行资源分配和调度的一个独立单位
**进程控制块（Process Control Block， PCB）**：系统利用PCB描述进程的基本情况和运行状态，进而控制和管理进程
**进程映像（进程实体）**：程序段、相关数据段和PCB构成
> PCB是进程存在的唯一标志
### 特征
- 动态性
- 并发性
- 独立性
- 异步性
- 结构性

-----------------------------------

## 进程的状态与转换
- 运行态
- 就绪态
- 阻塞态
- 创建态
- 结束态
> 就绪态是等待处理机资源，阻塞态则是等待除处理机外的其他资源

![进程状态转换图](..\..\..\绘图\操作系统\进程状态转换.png)

-----------------------------------------------------------

## 进程控制
### 进程的创建
#### 创建
允许一个进程（父进程）创建另一个进程（子进程），子进程可以继承父进程拥有的资源，当子进程被撤销时，将资源归还给父进程，撤销父进程时，必须同时撤销其所有的子进程
##### 创建过程（创建原语）
- 分配一个唯一的进程标识号，申请一个空白的PCB
- 为进程分配资源，为新进程的程序和数据及用户栈分配必要的内存空间
- 初始化PCB，主要包括初始化标志信息、初始化处理机状态信息和初始化处理机控制信息，以及设置进程的优先级等
- 若进程就绪队列能接纳新进程，则将新进程插入就绪队列，等待被调度运行
### 进程的终止
- 正常结束
- 异常结束
- 外界干预
#### 终止过程（撤销原语）
- 根据被终止进程的标识符，检索PCB，从中读出该进程的状态
- 终止该进程执行，将处理机资源分配给其他进程
- 将其所有子孙进程终止
- 将该进程拥有的全部资源，或归还给父进程，或归还给操作系统
- 将该PCB从所在队列中删除
### 进程的阻塞和唤醒
> 阻塞是进程主动行为，唤醒是被动的，必须成对使用
#### 阻塞过程（阻塞原语）
- 找到将要被阻塞进程的标识号对应的PCB，
- 若该进程为运行态，则保护其现场，将其状态转换为阻塞态，停止运行
- 将该PCB插入相应事件的等待队列，将处理机资源调度给其他就绪程序
#### 唤醒过程（唤醒原语）
- 在该事件的等待队列中找到相应进程的PCB
- 将其从等待队列中移出，并置其状态为就绪态
- 将该PCB插入就绪队列，等待调度程序调度
### 进程切换
处理机从一个进程的运行转到另一个进程上运行
#### 切换过程
- 保存处理机上下文，包括程序计数器和其他寄存器
- 更新PCB信息
- 将进程的PCB移入对应队列
- 选择另一个进程执行，更新其PCB
- 更新内存管理的数据结构
- 恢复处理机上下文

------------------------------------------------

## 进程组织
### PCB
操作系统通过PCB表来管理和控制进程
- 描述信息
  - 包括进程标识符
  - 用户标识符
- 进程控制和管理信息
  - 进程当前状态
  - 进程优先级
- 资源分配清单
- 处理机相关信息

PCB组织方式：链接方式和索引方式
### 程序段
能被进程调度程序调度到CPU执行的程序代码段，可被多个进程共享
### 数据段
- 进程对应的程序加工处理的原始数据
- 程序执行产生的中间或最终结果

-------------------------------------------------

## 进程的通信
- 共享存储
- 消息传递
  - 直接通信
  - 间接通信
- 管道通信
## 线程概念和多线程模型
### 线程的概念
引入进程的目的：更好的使多道程序并发执行，提高资源利用率和系统吞吐量
引入线程的目的：减小程序在并发执行中所付出的时空开销，提高操作系统的并发性能
- 轻量级进程，是一个基本的CPU执行单元，也是程序执行的最小单元
- 由线程ID、程序计数器、寄存器集合和堆栈组成
- 线程是进程中的一个实体，是系统独立调度和分派的基本单位
- 线程自己不拥有系统资源，但它可与同属一个进程的其他线程共享进程所拥有的全部资源
- 一个线程可以创建和撤销另一个线程，同一进程之间的多个线程可以并发执行
- 线程有就绪、运行、阻塞三种状态
### 线程与进程的比较
- 调度，引入线程后，线程是独立调度的基本单位，进程是拥有资源的基本单位
- 拥有资源，线程不拥有系统资源，但可以访问其隶属进程的系统资源，
- 并发性，进程和线程都可以并发执行
- 系统开销，进程 > 线程，同一进程的不同线程之间通信也很容易
- 地址和其他资源，进程的地址空间之间相互独立
- 通信，进程间通信（IPC）需要进程同步和互斥的手段，线程间可以直接读写进程数据段（如全局变量）来进行通信
### 线程的属性


